<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>SGE ‚Äì Test CRUD</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 30px;
        background: #f5f5f5;
      }
      header {
        background: #2c3e50;
        color: white;
        padding: 20px;
        border-radius: 6px;
      }
      section {
        background: white;
        padding: 20px;
        margin-top: 20px;
        border-radius: 6px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }
      th,
      td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: left;
      }
      th {
        background: #eee;
      }
      input,
      select,
      button {
        padding: 6px;
        margin: 5px 0;
        width: 100%;
      }
      button {
        background: #3498db;
        color: white;
        border: none;
        cursor: pointer;
      }
      button.delete {
        background: #e74c3c;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>SGE ‚Äì Syst√®me de Gestion d'√âtablissement</h1>
      <p>Page de test CRUD ‚Äì Flask + PostgreSQL</p>
    </header>

    <!-- ===================== -->
    <!-- FORMULAIRE AJOUT -->
    <!-- ===================== -->
    <section>
      <h2>‚ûï Ajouter un membre du personnel</h2>

      <!-- Cette route sera cr√©√©e dans Flask -->
      <form action="/personnel/add" method="post">
        <label>Nom</label>
        <input type="text" name="nom" required />

        <label>Pr√©nom</label>
        <input type="text" name="prenom" required />

        <label>Email</label>
        <input type="email" name="email" />

        <label>T√©l√©phone</label>
        <input type="text" name="telephone" />

        <label>Ville</label>
        <input type="text" name="ville" />

        <button type="submit">Enregistrer</button>
      </form>
    </section>

    <!-- ===================== -->
    <!-- LISTE DU PERSONNEL -->
    <!-- ===================== -->
    <section>
      <h2>üìã Liste du personnel</h2>

      <!-- Les donn√©es viendront de Flask -->
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nom complet</th>
            <th>Email</th>
            <th>T√©l√©phone</th>
            <th>Ville</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Exemple de boucle Jinja -->
          {% for p in personnels %}
          <tr>
            <td>{{ p.id_personnel }}</td>
            <td>{{ p.nom }} {{ p.prenom }}</td>
            <td>{{ p.email }}</td>
            <td>{{ p.numeroTelephone }}</td>
            <td>{{ p.ville }}</td>
            <td>
              <a href="/personnel/edit/{{ p.id_personnel }}">‚úèÔ∏è</a>
              |
              <a
                href="/personnel/delete/{{ p.id_personnel }}"
                onclick="return confirm('Supprimer ?')"
                >üóëÔ∏è</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <footer>
      <p>Projet acad√©mique SGE ¬© 2025</p>
    </footer>
  </body>
</html>
